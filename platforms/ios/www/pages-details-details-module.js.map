{"version":3,"sources":["./src/app/shared/constants/sight-types.ts","./src/app/pages/details/details.page.html","./src/app/pages/details/details-routing.module.ts","./src/app/shared/models/sight.ts","./src/app/pages/details/details.page.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.scss"],"names":[],"mappings":"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","file":"pages-details-details-module.js","sourcesContent":["export class SightTypes {\n  public static ARCHEOLOGY_REMAINS = 'archeology_remains';\n  public static CHURCHES = 'churches';\n  public static MONASTERIES = 'monasteries';\n  public static PLACES = 'places';\n  public static FORTS = 'forts';\n  public static TOURS = 'tours';\n  public static ETHNO = 'ethno';\n}\n","export default \"<ion-header [hidden]=\\\"loadingData\\\">\\n  <ion-toolbar class=\\\"header\\\" color=\\\"dark\\\">\\n    <ion-menu-toggle>\\n      <ion-button size=\\\"small\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\n        <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"menu-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-menu-toggle>\\n    <ion-title>\\n      {{sight.key + '.title' | translate }}\\n    </ion-title>\\n    <ion-button class=\\\"ion-float-right\\\" fill=\\\"clear\\\" size=\\\"small\\\" color=\\\"light\\\" (click)=\\\"goBack()\\\">\\n      <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"return-up-back-outline\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [hidden]=\\\"loadingData\\\">\\n\\n  <ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n    <ion-slide *ngFor=\\\"let number of imagesNumber()\\\" class=\\\"slide-image\\\"\\n      [style]=\\\"'background-image: url(assets/images/sights/' + sight.type + '/' + sight.name + '_' + number + '.jpg);'\\\">\\n    </ion-slide>\\n  </ion-slides>\\n\\n  <div class=\\\"ion-padding\\\">\\n    <ion-text [innerHtml]=\\\"sight.key + '.description' | translate\\\"></ion-text>\\n  </div>\\n\\n  <div class=\\\"ion-padding\\\" [hidden]=\\\"loadingData && hasRelatedSights()\\\" *ngIf=\\\"hasRelatedSights()\\\">\\n    <ion-card-subtitle>{{'related_sights' | translate }}</ion-card-subtitle>\\n    <ion-card *ngFor=\\\"let relatedSight of relatedSights\\\">\\n      <img [src]=\\\"'assets/images/sights/' + relatedSight.type + '/'+ relatedSight.key + '_1.jpg'\\\"  alt=\\\"sight\\\"/>\\n      <ion-card-header>\\n        <ion-card-subtitle class=\\\"ion-margin-bottom\\\">{{ 'navigation.' + relatedSight.type | translate }}\\n        </ion-card-subtitle>\\n        <ion-card-title>{{ relatedSight.type + '.' + relatedSight.key + '.title' | translate }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-header class=\\\"ion-text-center\\\">\\n        <ion-button (click)=\\\"goToRelatedSightDetails(relatedSight)\\\" fill=\\\"clear\\\" expand=\\\"full\\\" color=\\\"primary\\\">\\n          <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"information-outline\\\"></ion-icon>\\n          {{ 'read_more' | translate}}\\n        </ion-button>\\n      </ion-card-header>\\n    </ion-card>\\n  </div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"!hasRelatedSights()\\\">\\n  <ion-toolbar>\\n    <ion-button (click)=\\\"goToMap()\\\" expand=\\\"full\\\" fill=\\\"clear\\\" color=\\\"dark\\\">\\n      <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"locate-outline\\\"></ion-icon>\\n      <ion-text class=\\\"ion-margin-start\\\">{{ 'show_on_map' | translate}}</ion-text>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\\n<ion-footer *ngIf=\\\"hasRelatedSights()\\\">\\n  <ion-toolbar>\\n    <ion-button (click)=\\\"goToTourMap()\\\" expand=\\\"full\\\" fill=\\\"clear\\\" color=\\\"dark\\\">\\n      <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"locate-outline\\\"></ion-icon>\\n      <ion-text class=\\\"ion-margin-start\\\">{{ 'show_on_map' | translate}}</ion-text>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","export class Sight {\n    key: string;\n    name: string;\n    title: string;\n    type: string;\n    numberOfImages: number;\n    latitude: number;\n    longitude: number;\n    related: Sight[];\n}\n","import {SightTypes} from 'src/app/shared/constants/sight-types';\nimport {TranslateService} from '@ngx-translate/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Component, OnInit} from '@angular/core';\nimport {Sight} from 'src/app/shared/models/sight';\nimport {LaunchNavigator} from '@ionic-native/launch-navigator/ngx';\n\n@Component({\n    selector: 'app-details',\n    templateUrl: './details.page.html',\n    styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n    sight = new Sight();\n    loadingData: boolean;\n    relatedSights: Sight[] = [];\n\n    slideOpts = {\n        initialSlide: 1,\n        speed: 400,\n    };\n\n    data: any;\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private translate: TranslateService,\n        private launchNavigator: LaunchNavigator\n    ) {\n        this.loadingData = true;\n        this.getCurrentLanguage();\n        this.getSight();\n    }\n\n    ngOnInit() {\n    }\n\n    getCurrentLanguage(): void {\n        this.translate.use(localStorage.getItem('language'));\n    }\n\n    getSight(): void {\n        this.getMainAttributes();\n        this.getNumberOfImages();\n        this.getCoordinates();\n        this.getRelatedSights();\n    }\n\n    getMainAttributes() {\n        this.sight.type = this.route.snapshot.paramMap.get('sightType');\n        this.sight.name = this.route.snapshot.paramMap.get('sight');\n        this.sight.key = this.sight.type + '.' + this.sight.name;\n    }\n\n    getNumberOfImages(): void {\n        this.translate\n            .get(this.sight.key + '.numberOfImages')\n            .subscribe((data: any) => {\n                this.sight.numberOfImages = data;\n            });\n    }\n\n    getCoordinates(): void {\n        this.translate.get(this.sight.key + '.latitude').subscribe((data: any) => {\n            this.sight.latitude = data;\n        });\n\n        this.translate.get(this.sight.key + '.longitude').subscribe((data: any) => {\n            this.sight.longitude = data;\n        });\n    }\n\n    getRelatedSights(): void {\n        if (this.sight.type !== SightTypes.TOURS) {\n            this.loadingData = false;\n            return;\n        }\n\n        this.translate\n            .get(this.sight.key + '.related')\n            .subscribe((data: any) => {\n\n                Object.keys(data).forEach((sight) => {\n                    const relatedSight = new Sight();\n                    relatedSight.type = data[sight].type;\n                    relatedSight.key = sight;\n                    this.relatedSights.push(relatedSight);\n                });\n            });\n\n        this.loadingData = false;\n    }\n\n    hasRelatedSights = () => this.relatedSights.length;\n\n    goBack(): void {\n        this.router.navigateByUrl(this.sight.type);\n    }\n\n    goToMap(): void {\n        this.launchNavigator.navigate([this.sight.latitude, this.sight.longitude]);\n    }\n\n    goToRelatedSightDetails(relatedSight: Sight): void {\n        this.router.navigateByUrl(\n            '/details/' + relatedSight.type + '/' + relatedSight.key\n        );\n    }\n\n    imagesNumber(): Array<number> {\n        return Array.from({length: this.sight.numberOfImages}, (_, i) => i + 1);\n    }\n\n    goToTourMap(): void {\n        this.translate.get(this.sight.key + '.map-url').subscribe((data: any) => {\n            window.location.href = data;\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\n\nimport { DetailsPage } from './details.page';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsPageRoutingModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient],\n      },\n    }),\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhaWxzLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}