{"version":3,"sources":["./src/app/pages/details/details.page.html","./src/app/pages/details/details-routing.module.ts","./src/app/shared/models/sight.ts","./src/app/pages/details/details.page.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.scss"],"names":[],"mappings":"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","file":"pages-details-details-module.js","sourcesContent":["export default \"<ion-header [hidden]=\\\"loadingData\\\">\\n  <ion-toolbar class=\\\"header\\\" color=\\\"dark\\\">\\n    <ion-menu-toggle>\\n      <ion-button size=\\\"small\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\n        <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"menu-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-menu-toggle>\\n    <ion-title>\\n      {{sight.key + '.title' | translate }}\\n    </ion-title>\\n    <ion-button class=\\\"ion-float-right\\\" fill=\\\"clear\\\" size=\\\"small\\\" color=\\\"light\\\" (click)=\\\"goBack()\\\">\\n      <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"return-up-back-outline\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [hidden]=\\\"loadingData\\\">\\n\\n  <ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n    <ion-slide *ngFor=\\\"let number of imagesNumber()\\\" class=\\\"slide-image\\\"\\n      [style]=\\\"'background-image: url(assets/images/sights/' + sight.name + '_' + number + '.jpg);'\\\">\\n    </ion-slide>\\n  </ion-slides>\\n\\n  <div class=\\\"ion-padding\\\">\\n    <ion-text [innerHtml]=\\\"sight.key + '.description' | translate\\\"></ion-text>\\n  </div>\\n\\n  <div class=\\\"ion-padding\\\" [hidden]=\\\"loadingData && hasRelatedSights\\\" *ngIf=\\\"hasRelatedSights\\\">\\n    <ion-card-subtitle>{{'related_sights' | translate }}</ion-card-subtitle>\\n    <ion-card *ngFor=\\\"let relatedSight of relatedSights\\\">\\n      <img [src]=\\\"'assets/images/sights/' + relatedSight + '_1.jpg'\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle class=\\\"ion-margin-bottom\\\">{{ 'navigation.archeology_remains' | translate }}\\n        </ion-card-subtitle>\\n        <ion-card-title>{{ 'archeology_remains.' + relatedSight + '.title' | translate }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-header class=\\\"ion-text-center\\\">\\n        <ion-button (click)=\\\"goToRelatedSightDetails(relatedSight)\\\" fill=\\\"clear\\\" expand=\\\"full\\\" color=\\\"primary\\\">\\n          <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"information-outline\\\"></ion-icon>\\n          {{ 'read_more' | translate}}\\n        </ion-button>\\n      </ion-card-header>\\n    </ion-card>\\n  </div>\\n</ion-content>\\n\\n<ion-footer *ngIf=\\\"!hasRelatedSights\\\">\\n  <ion-toolbar>\\n    <ion-button (click)=\\\"goToMap()\\\" expand=\\\"full\\\" fill=\\\"clear\\\" color=\\\"dark\\\">\\n      <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"locate-outline\\\"></ion-icon>\\n      <ion-text class=\\\"ion-margin-start\\\">{{ 'show_on_map' | translate}}</ion-text>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","export class Sight {\n    key: string;\n    name: string;\n    type: string;\n    numberOfImages: number;\n    latitude: number;\n    longitude: number;\n    related: Sight[];\n}\n","import { SightTypes } from 'src/app/shared/constants/sight-types';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { Sight } from 'src/app/shared/models/sight';\nimport { LaunchNavigator } from '@ionic-native/launch-navigator/ngx';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n  sight = new Sight();\n  loadingData: boolean;\n  hasRelatedSights: boolean;\n  relatedSights: string[];\n\n  slideOpts = {\n    initialSlide: 1,\n    speed: 400,\n  };\n\n  data: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private translate: TranslateService,\n    private launchNavigator: LaunchNavigator\n  ) {\n    this.loadingData = true;\n    this.hasRelatedSights = false;\n    this.getCurrentLanguage();\n    this.getSight();\n  }\n\n  ngOnInit() {}\n\n  getCurrentLanguage(): void {\n    this.translate.use(localStorage.getItem('language'));\n  }\n\n  getSight(): void {\n    this.getMainAttributes();\n    this.getNumberOfImages();\n    this.getCoordinates();\n    this.getRelatedSights();\n  }\n\n  getMainAttributes() {\n    this.sight.type = this.route.snapshot.paramMap.get('sightType');\n    this.sight.name = this.route.snapshot.paramMap.get('sight');\n    this.sight.key = this.sight.type + '.' + this.sight.name;\n  }\n\n  getNumberOfImages(): void {\n    this.translate\n      .get(this.sight.key + '.numberOfImages')\n      .subscribe((data: any) => {\n        this.sight.numberOfImages = data;\n      });\n  }\n\n  getCoordinates(): void {\n    this.translate.get(this.sight.key + '.latitude').subscribe((data: any) => {\n      this.sight.latitude = data;\n    });\n\n    this.translate.get(this.sight.key + '.longitude').subscribe((data: any) => {\n      this.sight.longitude = data;\n    });\n  }\n\n  getRelatedSights(): void {\n    if (this.sight.type !== SightTypes.TOURS) {\n      this.loadingData = false;\n      return;\n    }\n\n    this.translate\n      .get(this.sight.key + '.related')\n      .subscribe((data: any) => {\n        this.data = data;\n        this.relatedSights = Object.keys(this.data);\n      });\n\n    this.hasRelatedSights = true;\n\n    this.loadingData = false;\n  }\n\n  goBack(): void {\n    this.router.navigateByUrl(this.sight.type);\n  }\n\n  goToMap(): void {\n    this.launchNavigator.navigate([this.sight.latitude, this.sight.longitude]);\n  }\n\n  goToRelatedSightDetails(relatedSight: string): void {\n    this.router.navigateByUrl(\n      '/details/archeology_remains' + '/' + relatedSight\n    );\n  }\n\n  imagesNumber(): Array<number> {\n    return Array.from({ length: this.sight.numberOfImages }, (_, i) => i + 1);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\n\nimport { DetailsPage } from './details.page';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsPageRoutingModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient],\n      },\n    }),\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhaWxzLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}